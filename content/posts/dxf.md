[AutoDesk帮助文档](https://help.autodesk.com/view/ACD/2022/CHS/?guid=GUID-235B22E0-A567-4CF6-92D3-38A2306D73F3)

## DXF 文件结构：
- **HEADER** 段。包含图形的基本信息。它由数据库版本号和一些系统变量组成。每个参数都包含一个变量名称及其关联的值。
- **CLASSES** 段。包含应用程序定义的类的信息，这些类的实例出现在数据库的 BLOCKS、ENTITIES 和 OBJECTS 段中。类定义在类的层次结构中是固定不变的。
- **TABLES** 段。包含以下符号表的定义：
- **APPID**（应用程序标识表）
- **BLOCK_RECORD**（块参照表）
- **DIMSTYLE**（标注样式表）
- **LAYER**（图层表）
- **LTYPE**（线型表）
- **STYLE**（文字样式表）
- **UCS**（用户坐标系表）
- **VIEW**（视图表）
- **VPORT**（视口配置表）

BLOCKS 段。包含构成图形中每个块参照的块定义和图形图元。
ENTITIES 段。包含图形中的图形对象（图元），其中包括块参照（插入图元）。
OBJECTS 段。包含图形中的非图形对象。除图元、符号表记录以及符号表以外的所有对象都存储在此段。OBJECTS 段中的条目样例是包含多线样式和组的词典。
THUMBNAILIMAGE 段。包含图形的预览图像数据。此段为可选。
## 关于 DXF 文件中的组码 (DXF)
组码和关联值定义对象或图元的特定方面。紧接着组码的一行是关联值。该值可以是字符串、整数或浮点值，例如点的 X 坐标。组中第二行后面的行（如果存在）由组定义和与组关联的数据确定。

特殊组码用作文件分隔符，例如用于表示段和表的开始和结束，以及文件本身结束的标记。

图元、对象、类、表和表条目以及文件分隔符通过 0 组码（其后是用于描述该组的名称）引入。

DXF 文件字符串的最大长度是 256 个字符。如果图形中包含的字符串超出了此数字，则在执行 SAVE、SAVEAS 和 WBLOCK 时将截断那些字符串。如果 DXF 文件包含的字符串超出了此长度，OPEN 和 INSERT 命令将失败。


## 符号表条目的通用组码
- `0` : 图元类型（表名）
- `5` : 句柄（DIMSTYLE 除外）
- `105` : 句柄（仅适用于 DIMSTYLE 表）
- `330` : 所有者对象的软指针 ID/句柄
- `100` : 子类标记 (AcDbSymbolTableRecord)

### Line
```dxf
  0
LINE //标明这是一个直线实体。
  5
AA //直线的句柄
330
89 //指向拥有者对象的句柄
100
AcDbEntity //表示这是一个实体
  8
默认值 //所在图层的名称
  6
ByBlock //线型名
 62
     0 //颜色编号（0通常表示默认颜色，如果为负值，则表明图层处于关闭状态）
370
    -2 //线宽枚举值
100
AcDbLine //标明这是一个AcDbLine对象
 10
-20781.90589266647 //直线的起点X坐标
 20
5179.480996078363 //直线的起点Y坐标
 30
0.0 //直线的起始点Z坐标
 11
-20114.67805877198 //直线的终点X坐标
 21
5179.480996078363 //直线的终点Y坐标
 31
0.0 //直线的终点Z坐标
```

### MULTILEADER
```dxf
  0
MULTILEADER //标明这是一个MULTILEADER
  5
7C //MULTILEADER句柄
330
1F //指向拥有者对象的句柄
100
AcDbEntity //以下是AcDbEntity
  8
默认值 //图层名
 92 //后面的 310 组（二进制数据块记录）中表示的代理图元图形中的字节数
      532
310 //代理图元图形数据（多行；每行最多 256 个字符）
140200000C0000000C00000013000000993A00000C0000000E00000001010000E00000002600000083FAB6C7ED8FDB40541C99E01A709940000000000000000000000000000000000000000000000000000000000000F03F000000000000F03F0000000000000000000000000000000056002B00340030002F00310038002F
310
0030002C0030002C002D003100000000000E000000010000000000000000003440000000000000F03F0000000000000000000000000000F03F00000000000000000000000000000000000000000000000000000000010000000000000041007200690061006C00000061007200690061006C002E0074007400660000000000
310
00000C000000130000009A3A00000C00000013000000112700000C00000013000000010000000C0000000E000000120000000C00000016000000000000C20C000000140000000100000054000000070000000300000002125563BE82DB404E06CC3A84939A400000000000000000E6D77ED37480DB401A4CB8ACE4DB9A4000
310
00000000000000645C07501684DB403FADC85B4CA39A4000000000000000000C00000013000000891300006C00000020000000030000003337AE596A83DB40C6594A4B689B9A4000000000000000006475CB75A58FDB404945F56FDD90994000000000000000006475CB75E58FDB404945F56FDD9099400000000000000000
310
00000000000000000000000000000000000000000000F03F
100 //以下是AcDbMLeader
AcDbMLeader
300 //多重引线上下文数据组码 //Group(组)说明
CONTEXT_DATA{
 40 //内容比例
1.0
 10 //上下文基点X坐标
28223.58531462158
 20 //上下文基点Y坐标
1636.216247398714
 30 //上下文基点Z坐标
0.0
 41 //文字高度
20.0
140 //箭头大小
20.0
145 //基线间隙
0.25
174 //文字角度类型
     2
175 //文字对齐类型
     2
176 //块内容连接类型
     0
177 //块属性索引
     0
290 //启用基线
     1
304 //默认文字内容
V+40/18/0,0,-1
 11 //文字法向X
0.0 
 21 //文字法向Y
0.0 
 31 //文字法向Z
1.0 
340 //文字样式 ID
79 
 12 //文字位置X
28223.83531462158
 22 //文字位置Y
1648.346247398714
 32 //文字位置Z
0.0
 13 //文字方向X
1.0
 23 //文字方向Y
0.0
 33 //文字方向Z
0.0
 42 //文字旋转
0.0
 43 //文字宽度
0.0
 44 //文字高度
0.0
 45 //文字行距比例
1.0
170 //文字行距样式
     1
 90 //文字颜色
-939524096
171 //文字附着
     1
172 //文字走向
     1
 91 //文字背景颜色
-939524096
141 //文字背景比例因子
1.5
 92 //文字背景透明度
        0
291 //文字背景颜色打开
     0
292 //文字背景填充在
     0
173 //文字列类型
     0
293 //使用文字自动高度
     0
142 //文字列宽
0.0
143 //文字列栏间距宽度
0.0
294 //反转列走向
     0
295 //文字使用文字打断
     0
296 //具有块
     0
110 //多重引线平面原点X
0.0
120 //多重引线平面原点Y
0.0
130 //多重引线平面原点Z
0.0
111 //多重引线平面X轴方向X
1.0
121 //多重引线平面X轴方向Y
0.0
131 //多重引线平面X轴方向Z
0.0
112 //多重引线平面Y轴方向X
0.0
122 //多重引线平面Y轴方向Y
1.0
132 //多重引线平面Y轴方向Z
0.0
297 //多重引线平面法向反转
     0
302 // 多重引线的引线节点组码 //块属性文字字符串 
LEADER{
290 //设定了最后引线点
     1
291 //设定了基线矢量
     1
 10 //最后引线点X
28223.58531462158
 20 //最后引线点Y
1636.216247398714
 30 //最后引线点Z
0.0
 11 //基线矢量X
1.0
 21 //基线矢量Y
0.0
 31 //基线矢量Z
0.0
 90 //引线分支索引
        0
 40 //基线长度
0.0
304 //多重引线的引线组码
LEADER_LINE{
 10 //起点X
28161.82540865978
 20 //起点Y
1718.973315124173
 30 //起点Z
0.0
 10 //终点X
28222.58531462158
 20 //终点Y
1636.216247398714
 30 //终点Z
0.0
 91 //引线索引
        0
305
}
303
}
301
}
340 //通用多重引线组码 //引线样式 ID
7A
 90 //特性替代标志
 50657520
170 //引线类型
     1
 91 //引线颜色
-1056964608
341 //引线类型 ID
14
171 //引线线宽
    -2
290 //启用基线
     0
291 //启用基线
     0
 41 //基线长度
0.0
 42 //箭头大小
20.0
172 //内容类型
     2
343 //文字样式 ID
79
173 //文字左附着样式
     2
 95 //文字右附着类型
        2
174 //文字角度类型
     2
175 //文字对齐类型
     0
 92 //文字颜色
-939524096
292 //启用文字边框
     0
 93 //块内容颜色
-1056964608
 10 //块内容比例X
1.0
 20 //块内容比例Y
1.0
 30 //块内容比例Z
1.0
 43 //块内容旋转
0.0
176 //块内容连接类型 
     0
293 //启用注释比例
     0
294 //文字负方向
     0
178 //IPE 中的文字对齐
     0
179 //文字附着点
     1
 45 //文字行距比例
1.0
1001 //扩展数据应用程序名称“ACAD”
ACAD_MLEADERVER
1070 //插入单位：英尺
     2
```

## 解析DXF
