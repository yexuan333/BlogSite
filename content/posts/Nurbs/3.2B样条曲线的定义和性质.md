+++
title = '3.2B样条曲线的定义和性质'
date = 2023-11-12T14:51:07+08:00
draft = false
series = ["非均匀有理B样条笔记"]
series_weight = 12
seriesNavigation = true
+++
#### B样条曲线的定义
$p$次B样条曲线的定义为
$$
C(u)=\sum_{i=0}^nN_{i,p}(u)P_i,\;a\leq u \leq b
$$
$P_i$是控制点（control point），$N_{i,p}(u)$是定义在非周期非均匀的接电视了上的$p$次B样条基函数，由控制点构成的多边形称为控制多边形（control polygon）
$$
U={\underbrace{a,...,a}_{p+1},u_{p+1},...,u_{m-p-1},\underbrace{b,...,b}_{p+1}}
$$
##### 计算B样条曲线上的点
对于固定的$u$值，计算对应的点分以下步骤
1. 找到$u$所在的节点区间
2. 计算非零基函数
3. 将非零基函数的值与相应的控制点相乘，在求和
算法如下
```c
CurvePoint(n,p,U,P,u,C)
{
    span = FindSpan(n,p,u,U);
    BasisFuns(span,u,p,U,N);
    C=0.0;
    for(i=0;i<=p;i++>){
        C=C+N[i]*P[span-p+i]
    }
}
```
#### B样条曲线的性质
- 如果$n=p,U={0,...,0,1,...,1}$,那么$C(u)$是Bezier曲线
- $C(u)$是分段多项式曲线，次数$p$\控制点个数$n+1$和节点个书$m+1$满足关系$$n+p+1$$
- 端点插值性$C(0)=P_0,C(1)=P_n$
- 仿射不变性，无论是对B样条曲线还是对控制点仿射变换，所得曲线仍旧是B样条曲线
- 强凸包性，曲线在控制点多边形的凸包内
- 局部修改性，移动$P_i$只改动$C(u)$在区间$[u_i,u_{i+p+1})$上的形状
- 曲线的次数越低，B样条曲线越靠近它的控制多边形
- 当$u$经过一个节点时，原来起作用的第一个$N_{i,p}(u)$停止作用，原来起作用的最后一个基函数的下一个$N_{i,p}(u)$开始起作用
- 变差减少性，任何一个平面与曲线的交点个数不多于它和控制多边形的交点个数
